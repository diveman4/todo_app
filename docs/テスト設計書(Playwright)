テスト設計書：TODOアプリ E2E テスト（Playwright）

1. テスト概要
対象機能: フロントエンド TODO アプリ（/ ページ）
目的: ユーザ視点での一連の基本操作（一覧表示・新規作成・完了切替・編集・削除・永続化）が正しく動作することを確認する
テスト種別: E2Eテスト（ブラウザ自動操作 / Playwright）

2. 前提条件
環境
バックエンド API が起動済み（例: http://localhost:3001）
フロントエンドが起動済み（例: http://localhost:3000）
データ前提
DB 初期状態は空、または既存 TODO があっても今回のテストデータとタイトルが重複しない
テスト用タイトルは E2EテストTODO-<timestamp> など、一意になる値を使用

3. テスト観点・項目
T-01 一覧表示・タイトル表示
T-02 新規作成（タイトル必須 + 追加ボタン活性制御）
T-03 完了/未完了トグル（見た目の変化）
T-04 タイトル編集（インライン編集）
T-05 削除（確認ダイアログ + 一覧からの消失）
T-06 データ永続化（リロード後も表示されること）

4. テストケース詳細
T-01 一覧表示・タイトル表示
事前条件: なし（TOP 画面にアクセス可能であること）
手順
/ にアクセスする。
期待結果
画面上部に「TODO リスト」というタイトルテキストが表示されている。

T-02 新規作成（タイトル必須）
事前条件: / にアクセス済み
手順
タイトル入力欄（プレースホルダ「新しいTODOを入力...」）を空のままにする。
「追加」ボタンの活性状態を確認する。
一意なタイトル文字列を入力する（例: E2EテストTODO-<timestamp>）。
「追加」ボタンをクリックする。
期待結果
手順 2: タイトル未入力のとき、「追加」ボタンは無効（disabled）になっている。
手順 4 後: 入力したタイトルを持つ TODO が一覧に表示される。

T-03 完了/未完了トグル（見た目の変化）
事前条件: T-02 により TODO が 1 件以上存在すること
手順
作成した TODO の行から、完了状態を切り替えるチェックボックスをクリックする。
期待結果
チェックボックスがオン（checked）になる。
該当行のタイトルテキストに打ち消し線（line-through）が付き、グレー表示になるなど、完了したことが視覚的に分かる。

T-04 タイトル編集（インライン編集）
事前条件: T-02 で作成した TODO が存在すること
手順
対象 TODO 行の「編集」ボタンをクリックする。
その行が編集モードになり、タイトル部分がテキストボックスに変わる。
テキストボックスに新しいタイトル（例: E2EテストTODO-<timestamp>-編集後）を入力する。
「保存」ボタンをクリックする。
期待結果
手順 2: その行のタイトル表示が入力ボックスに変わり、現在のタイトルが入力済みになっている。
手順 4 後: 一覧上のタイトルテキストが新しいタイトルに更新されて表示される。

T-05 削除（確認ダイアログ + 一覧からの消失）
事前条件: T-04 でタイトルを更新済みの TODO が存在すること
手順
対象 TODO 行の「削除」ボタンをクリックする。
ブラウザの確認ダイアログが表示されたら「OK（許可）」を選択する。
期待結果
手順 2 後: 対象 TODO 行が一覧から削除され、画面上にそのタイトルテキストが表示されていない。

T-06 データ永続化（リロード後も表示される）
事前条件: バックエンド＋DB が永続化されている環境であること
手順
/ にアクセスする。
一意なタイトル（例: 永続化テスト-<timestamp>）で TODO を作成する。
作成されたタイトルが一覧に表示されていることを確認する。
ページをリロードする。
期待結果
手順 3: 作成したタイトルを持つ TODO が表示されている。
手順 4 後も同じ TODO が一覧に表示されており、データが永続化されていることを確認できる。
この設計書をベースに、既存の todo.e2e.test.ts のテストケース名やコメントを揃えると、仕様と自動テストが対応付けやすくなります。